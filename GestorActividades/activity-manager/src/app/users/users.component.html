<app-navbar></app-navbar>  

<div class="card">  
  <div class="card-header" style="text-align:center">  
      <b>USERS</b>  
  </div>  
  <div class="card-body">  
      <form [formGroup]="userForm" (ngSubmit)="addUser(userForm.value)">  
          <div class="row">
            <div class="form-group col-sm-3">  
                <label for="input-username">Username</label>                  
                <input type="text" class="form-control" formControlName="username" id="input-username" placeholder="Enter Username" [ngClass]="{ 'is-invalid': username.invalid && (username.dirty || username.touched) }" >
                <div *ngIf="username.invalid && (username.dirty || username.touched)" class="invalid-feedback">
                    <div *ngIf="username.errors">
                        <div *ngIf="username.errors.required">Username is required.</div>
                    </div>
                </div>
            </div>  
            <div class="form-group col-sm-3">  
                <label for="input-password">Password</label>  
                <input type="password" class="form-control" formControlName="password" id="input-password" placeholder="Enter Password" [ngClass]="{ 'is-invalid': password.invalid && (password.dirty || password.touched) }" >  
                <div *ngIf="password.invalid && (password.dirty || password.touched)" class="invalid-feedback">
                    <div *ngIf="password.errors">
                        <div *ngIf="password.errors.required">Password is required.</div>
                        <div *ngIf="password.errors.minlength">Password must be at least 6 characters.</div>
                    </div>
                </div>
            </div>  
          </div>
          <div class="row">  
              <div class="form-group col-sm-3">  
                  <label for="input-firstName">First Name</label>  
                  <input type="text" class="form-control" formControlName="firstName" id="input-firstName" placeholder="Enter First Name" [ngClass]="{ 'is-invalid': firstName.invalid && (firstName.dirty || firstName.touched) }" >  
                  <div *ngIf="firstName.invalid && (firstName.dirty || firstName.touched)" class="invalid-feedback">
                    <div *ngIf="firstName.errors">
                        <div *ngIf="firstName.errors.required">First Name is required.</div>
                    </div>
                  </div>
              </div>  
              <div class="form-group col-sm-3">  
                  <label for="input-lastName">Last Name</label>  
                  <input type="text" class="form-control" formControlName="lastName" id="input-lastName" placeholder="Enter Last Name" [ngClass]="{ 'is-invalid': lastName.invalid && (lastName.dirty || lastName.touched) }" >  
                  <div *ngIf="lastName.invalid && (lastName.dirty || lastName.touched)" class="invalid-feedback">
                    <div *ngIf="lastName.errors">
                        <div *ngIf="lastName.errors.required">Last Name is required.</div>
                    </div>
                  </div>
              </div>  
              <div class="form-group col-sm-3">
                  <label for="input-email">Email Address</label>  
                  <input type="text" class="form-control" formControlName="emailAddress" id="input-email" placeholder="Enter Email Address" [ngClass]="{ 'is-invalid': emailAddress.invalid && (emailAddress.dirty || emailAddress.touched) }" >  
                  <div *ngIf="emailAddress.invalid && (emailAddress.dirty || emailAddress.touched)" class="invalid-feedback">
                    <div *ngIf="emailAddress.errors">
                        <div *ngIf="emailAddress.errors.required">Email Address is required.</div>
                        <div *ngIf="emailAddress.errors.email">Email must be a valid email address.</div>
                    </div>
                  </div>
              </div>                
            </div>            
            <div class="row">  
                <div class="form-group col-sm-3">  
                <button type="submit" [disabled]="!userForm.valid" class="btn btn-primary" >Add User</button>  
            </div>  
          </div>  
      </form>
    <div *ngIf="errorMessage" class="alert alert-danger" role="alert">
        {{errorMessage}}
    </div>
    <div *ngIf="message" class="alert alert-success" role="alert">
        {{message}}
    </div>
  </div>  
  <div class="card-footer">  
    <div class="col-lg-12 table-responsive">  
        <table class="table table-striped">  
            <thead>  
                <tr>                    
                    <th>User Name</th>  
                    <th>First Name</th>  
                    <th>Last Name</th>  
                    <th>Email Address</th>  
                    <th>Created On</th>
                    <th></th>  
                </tr>  
            </thead>  
            <tbody>  
                <tr *ngFor="let user of allUsers">                    
                    <td>{{user.UserName}}</td>  
                    <td>{{user.FirstName}}</td>  
                    <td>{{user.LastName}}</td>  
                    <td>{{user.EmailAddress}}</td>  
                    <td>{{user.CreatedDt}}</td>  
                    <td>                        
                        <button type="button" class="btn btn-danger mr-1" (click)="deleteUser(user.UserId)">Delete</button>  
                    </td>  
                </tr>  
            </tbody>  
        </table>  
    </div>  
  </div> 
</div>    


